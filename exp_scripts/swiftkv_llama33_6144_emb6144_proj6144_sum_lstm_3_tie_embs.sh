
mkdir -p /checkpoint/speculator/llama-3.3-70b/jaeseong/swiftkv_llama33_6144_emb6144_proj6144_sum_lstm_3_tie_embs
deepspeed -H /data-fast/hostfile projects/mlp_speculator/train_speculator.py --checkpoint_path /checkpoint/speculator/llama-3.3-70b/jaeseong/swiftkv_llama33_6144_emb6144_proj6144_sum_lstm_3_tie_embs/checkpoints --tie_lstm_embs --method=sum_lstm --proj_dim=6144 --emb_dim=6144 --speculator_tie_weights --speculator_scale_input --model_path /checkpoint/tmp/huggingface/llama33_swiftkv_16bits/step-9722 --output_path /checkpoint/speculator/llama-3.3-70b/jaeseong/swiftkv_llama33_6144_emb6144_proj6144_sum_lstm_3_tie_embs --train_iters 3000 --datasets "\(RawDisk,/data/jaelee/swiftkv_llama33_gen_mlpspec_nodetok_disk\)" --zero_stage 3 --speculator_width 6144 --checkpoint_interval 300 --micro_batch_size 32 --max_length=256 --global_batch_size 2048 --n_speculator_heads 3 --not_packing_input  &> /checkpoint/speculator/llama-3.3-70b/jaeseong/swiftkv_llama33_6144_emb6144_proj6144_sum_lstm_3_tie_embs/train.log
aws s3 cp /checkpoint/speculator/llama-3.3-70b/jaeseong/swiftkv_llama33_6144_emb6144_proj6144_sum_lstm_3_tie_embs s3://ml-dev-sfc-or-dev-misc1-k8s/yak/users/jaelee/spec//checkpoint/speculator/llama-3.3-70b/jaeseong/swiftkv_llama33_6144_emb6144_proj6144_sum_lstm_3_tie_embs --recursive
